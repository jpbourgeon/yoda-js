(self.webpackChunkgh_pages=self.webpackChunkgh_pages||[]).push([[720],{1879:function(e,t,n){"use strict";var r=n(6393),i=n(315),a=n.n(i);a().initialize({startOnLoad:!0});t.Z=function(e){var t=e.chart;return(0,r.useEffect)((function(){a().contentLoaded()}),[]),r.createElement("div",{className:"mermaid"},t)}},7050:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return d},metadata:function(){return l},toc:function(){return u},default:function(){return h}});var r=n(9926),i=n(845),a=(n(6393),n(158)),o=n(1879),s=["components"],c={},d="Architecture",l={unversionedId:"architecture",id:"architecture",isDocsHomePage:!1,title:"Architecture",description:"Yoda adopts an Event-driven micro-services  architecture to be highly reactive and extensible.",source:"@site/docs/100_architecture.md",sourceDirName:".",slug:"/architecture",permalink:"/docs/architecture",tags:[],version:"current",sidebarPosition:100,frontMatter:{},sidebar:"docsSidebar",previous:{title:"Introduction",permalink:"/docs/"},next:{title:"Data modeling",permalink:"/docs/data_modeling"}},u=[{value:"Event-driven architecture",id:"event-driven-architecture",children:[]},{value:"Middleware and plugins",id:"middleware-and-plugins",children:[]}],p={toc:u};function h(e){var t=e.components,n=(0,i.Z)(e,s);return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"architecture"},"Architecture"),(0,a.kt)("p",null,"Yoda adopts an ",(0,a.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/event-driven"},"Event-driven")," ",(0,a.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/architecture/guide/architecture-styles/microservices"},"micro-services"),"  architecture to be highly reactive and extensible."),(0,a.kt)("h2",{id:"event-driven-architecture"},"Event-driven architecture"),(0,a.kt)("p",null,"Every changes to the data are written to a dedicated partition in a strictly ordered and durable manner, guaranteed even across distributed endpoints."),(0,a.kt)("p",null,"This stream of events is emitted in near real-time over the messaging infrastructure, up to other endpoints and down to the consumer to refresh its own state."),(0,a.kt)("p",null,"The following flowchart shows a simplified view of Yoda's global architecture."),(0,a.kt)(o.Z,{chart:'flowchart TB\n  RE{{Remote<br>endpoint}} <--\x3e WS[/Websocket/]\n  RE <--\x3e H[/HTTP/]\n  WS <-- continuous replication<br>graphs / events --\x3e SA\n  H <-- One time replication<br>attachments / bulk events / bulk graphs --\x3e SA\n  subgraph LI[Local Yoda instance]\n    subgraph R[Replication]\n      SA[[Replication<br>authorization]] <--\x3e S[[Replication<br>middleware]]\n    end\n    S <--\x3e ST\n    subgraph ST["Channel(s)"]\n      direction TB\n      IG[(Items graph)] -.- IE[(Items events)] -.- IV[(Materialized<br>views)]\n      AG[(Attachments<br>graph)] -.- AE[(Attachments<br>events)] -.- AV[("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;files&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;")]\n    end\n    subgraph EQ[Editing / querying]\n      DT[[Local<br>middleware]] <--\x3e LA[[Local<br>authorization]]\n    end\n    ST <--\x3e DT\n  end\n  LA <--\x3e LC{{Local<br>consumer}}\n  %%\n  classDef title position: relative, top: -0.35em;\n  class LI,R,ST,EQ title;\n',mdxType:"Mermaid"}),(0,a.kt)("p",null,"Yoda enforces ",(0,a.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/best-practices.html"},"NoSQL design")," best practices:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"single table data storage"),(0,a.kt)("li",{parentName:"ul"},"primary index and optional global secondary indexes"),(0,a.kt)("li",{parentName:"ul"},"compound indexes: partition keys (hash) and sort keys (range)"),(0,a.kt)("li",{parentName:"ul"},"index overloading")),(0,a.kt)("h2",{id:"middleware-and-plugins"},"Middleware and plugins"),(0,a.kt)("p",null,"Yoda focuses on a limited set of core responsibilities to deal efficiently with offline-first storage and replication. However its behavior can be extended easily through middleware and plugins."),(0,a.kt)("p",null,"Middleware functions are executed at runtime every time predefined events occur. You are thus given room to transform your instance's workflow in any way you see fit."),(0,a.kt)("p",null,"Plugins are packaged sets of predefined middleware and additional features that extend Yoda's behavior in a useful way."),(0,a.kt)("p",null,"Schema validation, encryption at rest, compression... Your imagination is the limit !"))}h.isMDXComponent=!0},2493:function(e,t,n){var r={"./locale":6090,"./locale.js":6090};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=2493}}]);